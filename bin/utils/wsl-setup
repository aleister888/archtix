#!/bin/bash
# https://github.com/yuk7/ArchWSL

yay_install(){
	sudo pacman -Sy --noconfirm --disable-download-timeout --needed git base-devel

	tmp_dir="/tmp/yay_install_temp"
	mkdir -p "$tmp_dir"
	git clone https://aur.archlinux.org/yay.git "$tmp_dir"
	sh -c "cd $tmp_dir && makepkg -si --noconfirm"
}

get_repo(){
	mkdir -p ~/.local/share
	git clone --branch dev --single-branch \
		https://github.com/aleister888/artixRC-dotfiles.git ~/.local/share/dots
}

# Funcion para configurar neovim
nvim_setup(){
	yay -Sy --noconfirm --disable-download-timeout --needed \
		jdk-openjdk npm neovim python-pynvim

	mkdir -p ~/.config/nvim
	ln -s ~/.local/share/dots/assets/wsl/init.vim ~/.config/nvim/init.vim

	yay -Rcns --noconfirm vim
	sudo ln -s /usr/bin/nvim /usr/local/bin/vim
}

yay_install

get_repo

nvim_setup
