#!/bin/sh

# Verifica si se proporciona un argumento
if [ $# -ne 1 ]; then
	echo "Uso: $0 <directorio_destino>"
	exit 1
fi

# Verifica si el directorio destino existe
if [ -d "$1" ]; then
	# Copia /etc/fstab a $1/System Files/fstab
	cp /etc/fstab "$1/System Files/fstab"

	# Copia /etc/crontab a $1/System Files/crontab
	cp /etc/crontab "$1/System Files/crontab"

	# Copia /etc/pacman.conf a $1/System Files/pacman.conf
	cp /etc/pacman.conf "$1/System Files/pacman.conf"

	# Crea el directorio $1/bin si no existe y copia los archivos de /usr/local/bin
	[ ! -d "$1/bin" ] && mkdir -p "$1/bin" && cp /usr/local/bin/* "$1/bin"

	# Sincroniza los directorios de /home/aleister/ con $1/rsync
	rsync -vraAX --inplace --update --exclude "steamapps" --delete /home/aleister/ "$1/rsync"
else
	echo "El directorio $1 no existe."
	exit 1
fi
